<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>D√ºnya Manzaralarƒ± - 150 √úlke</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>

  <style>
  /* (TASARIM ‚Äì orijinal dosyadaki stil bloklarƒ±nƒ±n TAMAMI aynen bƒ±rakƒ±ldƒ±) */
  :root{ --primary:#3b82f6;--primary-dark:#1d4ed8;--secondary:#8b5cf6;--accent:#f97316;
    --bg-grad:linear-gradient(135deg,#f8fafc 0%,#e2e8f0 100%);--card-bg:rgba(255,255,255,.95);
    --glass-bg:rgba(255,255,255,.60);--glass-border:rgba(0,0,0,.08);--text-primary:#334155;
    --text-secondary:#64748b;--text-muted:#94a3b8;--shadow-lg:0 6px 24px rgba(0,0,0,.08);
    --shadow-xl:0 12px 40px rgba(0,0,0,.12);}*{margin:0;padding:0;box-sizing:border-box;}
  body{font-family:'Inter',sans-serif;
    background-image: url('https://imagedelivery.net/hvHh954PgWT-gbZ25oXErA/df156335-417a-4600-a36a-a78c69799c00/public');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    background-attachment: fixed;
    color:var(--text-primary);
    min-height:100vh;line-height:1.6;overflow-x:hidden;
    position: relative;
    -webkit-background-size: cover;
    -moz-background-size: cover;
    -o-background-size: cover;
    background-color: #e2e8f0;} /* Fallback color eklendi */
  body::after{
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(248, 250, 252, 0.4);
    pointer-events: none;
    z-index: 0;
  }
  .container{max-width:1100px;margin:0 auto;padding:0 16px;position:relative;z-index:1;}
  .logo{position:fixed;top:20px;left:20px;width:44px;height:44px;border-radius:50%;
    background:rgba(255,255,255,.2);backdrop-filter:blur(10px);display:flex;align-items:center;
    justify-content:center;font-size:24px;text-decoration:none;box-shadow:var(--shadow-lg);
    transition:.3s;z-index:100;border:1px solid rgba(255,255,255,.3);}
  .logo:hover{transform:scale(1.1) rotate(10deg);box-shadow:var(--shadow-xl);background:rgba(255,255,255,.3);}
  .lang-select{position:fixed;top:20px;right:20px;z-index:100;}
  .lang-btn{background:rgba(255,255,255,.2);backdrop-filter:blur(20px);
    border:1px solid rgba(255,255,255,.3);border-radius:12px;padding:10px 16px;cursor:pointer;
    font-size:14px;font-weight:500;display:flex;align-items:center;gap:6px;
    box-shadow:var(--shadow-lg);transition:.3s;color:var(--text-primary);}
  .lang-btn:hover{transform:translateY(-2px);box-shadow:var(--shadow-xl);background:rgba(255,255,255,.3);}
  .lang-list{position:absolute;top:calc(100% + 8px);right:0;background:rgba(255,255,255,.98);
    backdrop-filter:blur(20px);border:1px solid var(--glass-border);border-radius:12px;
    box-shadow:var(--shadow-xl);max-height:320px;overflow-y:auto;display:none;min-width:160px;}
  .lang-list.show{display:block;animation:fadeIn .3s ease;}
  .lang-item{padding:10px 16px;cursor:pointer;transition:background .2s;display:flex;
    align-items:center;gap:8px;font-size:14px;color:var(--text-primary);}
  .lang-item:hover{background:var(--glass-bg);color:var(--primary);}
  .lang-item.active{background:var(--primary);color:#fff;}
  .header{padding:80px 16px 40px;text-align:center;position:relative;z-index:1;}
  .title{font-size:clamp(1.75rem,4vw,2.5rem);font-weight:700;margin-bottom:12px;
    background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);
    -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
    letter-spacing:-.5px;}
  .subtitle{font-size:1rem;color:var(--text-secondary);font-weight:400;}
  .search-box{max-width:500px;margin:0 auto 40px;position:relative;z-index:1;}
  .search{width:100%;padding:14px 48px 14px 20px;font-size:15px;background:rgba(255,255,255,.3);
    backdrop-filter:blur(20px);border:2px solid rgba(255,255,255,.4);border-radius:20px;
    transition:.3s;color:var(--text-primary);}
  .search:focus{outline:none;border-color:var(--primary);
    box-shadow:0 0 0 3px rgba(59,130,246,.1);background:rgba(255,255,255,.5);}
  .search-icon{position:absolute;right:20px;top:50%;transform:translateY(-50%);
    color:var(--text-secondary);pointer-events:none;}
  .info{max-width:600px;margin:0 auto 40px;padding:20px 24px;text-align:center;
    background:var(--card-bg);backdrop-filter:blur(20px);border:2px solid var(--glass-border);
    border-radius:20px;font-size:14px;line-height:1.6;color:var(--text-primary);
    box-shadow:var(--shadow-lg);position:relative;z-index:1;}
  .info.premium{background:linear-gradient(135deg,#dcfce7 0%,#d1fae5 100%);
    border-color:#16a34a;color:#16a34a;}
  .info a{color:var(--primary);font-weight:600;text-decoration:none;transition:.3s;}
  .info a:hover{color:var(--primary-dark);text-decoration:underline;}
  .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));
    gap:16px;padding-bottom:40px;position:relative;z-index:1;}
  .card{background:rgba(255,255,255,.7);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.4);
    border-radius:20px;padding:24px 16px;text-align:center;cursor:pointer;transition:.3s
    cubic-bezier(.4,0,.2,1);position:relative;box-shadow:var(--shadow-lg);}
  .card:hover{transform:translateY(-6px);box-shadow:var(--shadow-xl);border-color:var(--primary);background:rgba(255,255,255,.85);}
  .flag{font-size:2.5rem;margin-bottom:8px;display:block;filter:drop-shadow(0 2px 4px rgba(0,0,0,.1));}
  .name{font-weight:500;font-size:14px;color:var(--text-primary);}
  .card.free{background:linear-gradient(135deg,#fef3c7 0%,#fde68a 100%);border-color:#f59e0b;}
  
  /* Mobil i√ßin g√º√ßl√º arka plan d√ºzeltmesi */
  @media(max-width:768px){
    html {
      height: 100%;
      overflow-x: hidden;
      background-color: #e2e8f0;
      position: relative;
    }
    body{
      min-height: 100vh;
      min-height: calc(var(--vh, 1vh) * 100);
      background: none !important;
      position: relative;
      overflow-x: hidden;
      margin: 0;
      padding: 0;
      padding-bottom: env(safe-area-inset-bottom); /* iOS safe area */
    }
    /* Ana mobil arka plan */
    body::before {
      content: '';
      position: fixed;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background-image: url('https://imagedelivery.net/hvHh954PgWT-gbZ25oXErA/ce399dec-ddac-4455-521d-697751d46300/public');
      background-size: cover !important;
      background-position: center center !important;
      background-repeat: no-repeat !important;
      background-color: #e2e8f0;
      -webkit-background-size: cover !important;
      -moz-background-size: cover !important;
      -o-background-size: cover !important;
      z-index: -3;
      transform: translate3d(0,0,0);
      -webkit-transform: translate3d(0,0,0);
    }
    /* Overlay katmanƒ± */
    body::after {
      content: '';
      position: fixed;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: rgba(248, 250, 252, 0.4);
      pointer-events: none;
      z-index: -2;
    }
    /* HTML arka planƒ± - fallback */
    html {
      background-image: url('https://imagedelivery.net/hvHh954PgWT-gbZ25oXErA/ce399dec-ddac-4455-521d-697751d46300/public');
      background-size: cover;
      background-position: center center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      -webkit-background-size: cover;
    }
    /* Container d√ºzenlemesi */
    .container{
      max-width:100%;
      min-height:100vh;
      padding-bottom: 100px;
      position: relative;
      z-index: 1;
      background-color: transparent;
    }
    /* Grid son element fix */
    .grid {
      gap:12px;
      padding-bottom:120px;
      margin-bottom: 0;
    }
    /* Diƒüer mobil stiller */
    .logo{width:40px;height:40px;font-size:20px;
    top:16px;left:16px}.lang-select{top:16px;right:16px}.lang-btn{padding:8px 12px;font-size:13px}
    .header{padding:70px 16px 32px}.title{font-size:1.875rem}.subtitle{font-size:.875rem}
    .search{padding:12px 44px 12px 16px;font-size:14px}.info{font-size:13px;padding:16px 20px}
    .card{padding:20px 12px}.flag{font-size:2rem}.name{font-size:13px}}
  @media(max-width:480px){.grid{grid-template-columns:repeat(auto-fill,minmax(110px,1fr))}}
  @keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
  .card{animation:fadeIn .3s ease;}
  
  /* Viewport height fix for mobile */
  @supports (-webkit-touch-callout: none) {
    /* iOS only */
    body {
      min-height: -webkit-fill-available;
    }
  }
  </style>
</head>

<body>
  <!-- Logo -->
  <a href="https://tr81.tr/login.html" class="logo" aria-label="Giri≈ü">üåê</a>

  <!-- Language -->
  <div class="lang-select">
    <button class="lang-btn" onclick="toggleLang()">
      <span id="langFlag">üáπüá∑</span>
      <span id="langName">TR</span>
      <svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor">
        <path d="M3 5L6 8L9 5"/>
      </svg>
    </button>
    <div class="lang-list" id="langList"></div>
  </div>

  <div class="container">
    <div class="header">
      <h1 class="title" id="title">D√ºnya Manzaralarƒ±</h1>
      <p class="subtitle" id="subtitle">150 √ºlkede gizli yerler</p>
    </div>

    <!-- Search -->
    <div class="search-box">
      <input id="search" class="search" type="text" placeholder="√úlke ara..." autocomplete="off">
      <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
        <circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.35-4.35"></path>
      </svg>
    </div>

    <!-- Info -->
    <div id="info" class="info"></div>

    <!-- Grid -->
    <div id="grid" class="grid"></div>
  </div>

  <script>
  /* === √áEVƒ∞Rƒ∞ TABLOLARI (orijinal i√ßerik) === */
  const lang = {
    tr:{flag:'üáπüá∑',name:'TR',title:'D√ºnya Manzaralarƒ±',subtitle:'150 √ºlkede gizli yerler',
      search:'√úlke ara...',banner:'T√ºrkiye\'yi √ºcretsiz ke≈üfet! ‚ö° T√ºm √ºlkeler i√ßin <a href="https://www.tr81.tr/login.html">giri≈ü yap</a>',
      premium:'üîì T√ºm √ºlkeler a√ßƒ±k!'},
    en:{flag:'üá¨üáß',name:'EN',title:'World Landscapes',subtitle:'Hidden spots in 150 countries',
      search:'Search country...',banner:'Explore T√ºrkiye free! ‚ö° <a href="https://www.tr81.tr/login.html">Login</a> for all countries',
      premium:'üîì All countries unlocked!'},
    de:{flag:'üá©üá™',name:'DE',title:'Weltlandschaften',subtitle:'Versteckte Orte in 150 L√§ndern',
      search:'Land suchen...',banner:'Entdecke die T√ºrkei kostenlos! ‚ö° <a href="https://www.tr81.tr/login.html">Anmelden</a> f√ºr alle L√§nder',
      premium:'üîì Alle L√§nder freigeschaltet!'},
    fr:{flag:'üá´üá∑',name:'FR',title:'Paysages du Monde',subtitle:'Lieux cach√©s dans 150 pays',
      search:'Rechercher un pays...',banner:'Explorez la Turquie gratuitement! ‚ö° <a href="https://www.tr81.tr/login.html">Se connecter</a> pour tous les pays',
      premium:'üîì Tous les pays d√©bloqu√©s!'},
    es:{flag:'üá™üá∏',name:'ES',title:'Paisajes del Mundo',subtitle:'Lugares ocultos en 150 pa√≠ses',
      search:'Buscar pa√≠s...',banner:'¬°Explora Turqu√≠a gratis! ‚ö° <a href="https://www.tr81.tr/login.html">Iniciar sesi√≥n</a> para todos los pa√≠ses',
      premium:'üîì ¬°Todos los pa√≠ses desbloqueados!'},
    it:{flag:'üáÆüáπ',name:'IT',title:'Paesaggi del Mondo',subtitle:'Luoghi nascosti in 150 paesi',
      search:'Cerca paese...',banner:'Esplora la Turchia gratis! ‚ö° <a href="https://www.tr81.tr/login.html">Accedi</a> per tutti i paesi',
      premium:'üîì Tutti i paesi sbloccati!'},
    pt:{flag:'üáµüáπ',name:'PT',title:'Paisagens do Mundo',subtitle:'Lugares escondidos em 150 pa√≠ses',
      search:'Buscar pa√≠s...',banner:'Explore a Turquia gr√°tis! ‚ö° <a href="https://www.tr81.tr/login.html">Entrar</a> para todos os pa√≠ses',
      premium:'üîì Todos os pa√≠ses desbloqueados!'},
    ru:{flag:'üá∑üá∫',name:'RU',title:'–ü–µ–π–∑–∞–∂–∏ –º–∏—Ä–∞',subtitle:'–°–∫—Ä—ã—Ç—ã–µ –º–µ—Å—Ç–∞ –≤ 150 —Å—Ç—Ä–∞–Ω–∞—Ö',
      search:'–ü–æ–∏—Å–∫ —Å—Ç—Ä–∞–Ω—ã...',banner:'–ò—Å—Å–ª–µ–¥—É–π—Ç–µ –¢—É—Ä—Ü–∏—é –±–µ—Å–ø–ª–∞—Ç–Ω–æ! ‚ö° <a href="https://www.tr81.tr/login.html">–í–æ–π—Ç–∏</a> –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω',
      premium:'üîì –í—Å–µ —Å—Ç—Ä–∞–Ω—ã —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã!'},
    ja:{flag:'üáØüáµ',name:'JA',title:'‰∏ñÁïå„ÅÆÈ¢®ÊôØ',subtitle:'150„Ç´ÂõΩ„ÅÆÈö†„Çå„Åü„Çπ„Éù„ÉÉ„Éà',
      search:'ÂõΩ„ÇíÊ§úÁ¥¢...',banner:'„Éà„É´„Ç≥„ÇíÁÑ°Êñô„ÅßÊé¢Á¥¢ÔºÅ‚ö° „Åô„Åπ„Å¶„ÅÆÂõΩ„ÅØ<a href="https://www.tr81.tr/login.html">„É≠„Ç∞„Ç§„É≥</a>',
      premium:'üîì „Åô„Åπ„Å¶„ÅÆÂõΩ„ÅåÂà©Áî®ÂèØËÉΩÔºÅ'},
    zh:{flag:'üá®üá≥',name:'ZH',title:'‰∏ñÁïåÈ£éÊôØ',subtitle:'150‰∏™ÂõΩÂÆ∂ÁöÑÈöêËóèÊôØÁÇπ',
      search:'ÊêúÁ¥¢ÂõΩÂÆ∂...',banner:'ÂÖçË¥πÊé¢Á¥¢ÂúüËÄ≥ÂÖ∂ÔºÅ‚ö° <a href="https://www.tr81.tr/login.html">ÁôªÂΩï</a>Êü•ÁúãÊâÄÊúâÂõΩÂÆ∂',
      premium:'üîì ÊâÄÊúâÂõΩÂÆ∂Â∑≤Ëß£ÈîÅÔºÅ'},
    ar:{flag:'üá∏üá¶',name:'AR',title:'ŸÖŸÜÿßÿ∏ÿ± ÿßŸÑÿπÿßŸÑŸÖ',subtitle:'ÿ£ŸÖÿßŸÉŸÜ ŸÖÿÆŸÅŸäÿ© ŸÅŸä 150 ÿØŸàŸÑÿ©',
      search:'ÿßŸÑÿ®ÿ≠ÿ´ ÿπŸÜ ÿØŸàŸÑÿ©...',banner:'ÿßÿ≥ÿ™ŸÉÿ¥ŸÅ ÿ™ÿ±ŸÉŸäÿß ŸÖÿ¨ÿßŸÜÿßŸã! ‚ö° <a href="https://www.tr81.tr/login.html">ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ</a> ŸÑÿ¨ŸÖŸäÿπ ÿßŸÑÿ®ŸÑÿØÿßŸÜ',
      premium:'üîì ÿ¨ŸÖŸäÿπ ÿßŸÑÿ®ŸÑÿØÿßŸÜ ŸÖÿ™ÿßÿ≠ÿ©!'},
    hi:{flag:'üáÆüá≥',name:'HI',title:'‡§µ‡§ø‡§∂‡•ç‡§µ ‡§ï‡•á ‡§¶‡•É‡§∂‡•ç‡§Ø',subtitle:'150 ‡§¶‡•á‡§∂‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§õ‡•Å‡§™‡•á ‡§∏‡•ç‡§•‡§æ‡§®',
      search:'‡§¶‡•á‡§∂ ‡§ñ‡•ã‡§ú‡•á‡§Ç...',banner:'‡§§‡•Å‡§∞‡•ç‡§ï‡•Ä ‡§ï‡•ã ‡§Æ‡•Å‡§´‡•ç‡§§ ‡§Æ‡•á‡§Ç ‡§è‡§ï‡•ç‡§∏‡§™‡•ç‡§≤‡•ã‡§∞ ‡§ï‡§∞‡•á‡§Ç! ‚ö° ‡§∏‡§≠‡•Ä ‡§¶‡•á‡§∂‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è <a href="https://www.tr81.tr/login.html">‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡•á‡§Ç</a>',
      premium:'üîì ‡§∏‡§≠‡•Ä ‡§¶‡•á‡§∂ ‡§Ö‡§®‡§≤‡•â‡§ï!'},
    ko:{flag:'üá∞üá∑',name:'KO',title:'ÏÑ∏Í≥Ñ ÌíçÍ≤Ω',subtitle:'150Í∞úÍµ≠Ïùò Ïà®Í≤®ÏßÑ Î™ÖÏÜå',
      search:'Íµ≠Í∞Ä Í≤ÄÏÉâ...',banner:'ÌÑ∞ÌÇ§Î•º Î¨¥Î£åÎ°ú ÌÉêÌóòÌïòÏÑ∏Ïöî! ‚ö° Î™®Îì† Íµ≠Í∞ÄÎäî <a href="https://www.tr81.tr/login.html">Î°úÍ∑∏Ïù∏</a>',
      premium:'üîì Î™®Îì† Íµ≠Í∞Ä Ïù¥Ïö© Í∞ÄÎä•!'},
    nl:{flag:'üá≥üá±',name:'NL',title:'Wereldlandschappen',subtitle:'Verborgen plekken in 150 landen',
      search:'Zoek land...',banner:'Ontdek Turkije gratis! ‚ö° <a href="https://www.tr81.tr/login.html">Inloggen</a> voor alle landen',
      premium:'üîì Alle landen ontgrendeld!'},
    pl:{flag:'üáµüá±',name:'PL',title:'Krajobrazy ≈õwiata',subtitle:'Ukryte miejsca w 150 krajach',
      search:'Szukaj kraju...',banner:'Odkryj Turcjƒô za darmo! ‚ö° <a href="https://www.tr81.tr/login.html">Zaloguj siƒô</a> dla wszystkich kraj√≥w',
      premium:'üîì Wszystkie kraje odblokowane!'},
    sv:{flag:'üá∏üá™',name:'SV',title:'V√§rldslandskap',subtitle:'Dolda platser i 150 l√§nder',
      search:'S√∂k land...',banner:'Utforska Turkiet gratis! ‚ö° <a href="https://www.tr81.tr/login.html">Logga in</a> f√∂r alla l√§nder',
      premium:'üîì Alla l√§nder uppl√•sta!'},
    no:{flag:'üá≥üá¥',name:'NO',title:'Verdens landskap',subtitle:'Skjulte steder i 150 land',
      search:'S√∏k land...',banner:'Utforsk Tyrkia gratis! ‚ö° <a href="https://www.tr81.tr/login.html">Logg inn</a> for alle land',
      premium:'üîì Alle land l√•st opp!'},
    da:{flag:'üá©üá∞',name:'DA',title:'Verdens landskaber',subtitle:'Skjulte steder i 150 lande',
      search:'S√∏g land...',banner:'Udforsk Tyrkiet gratis! ‚ö° <a href="https://www.tr81.tr/login.html">Log ind</a> for alle lande',
      premium:'üîì Alle lande l√•st op!'},
    fi:{flag:'üá´üáÆ',name:'FI',title:'Maailman maisemat',subtitle:'Piilotettuja paikkoja 150 maassa',
      search:'Hae maata...',banner:'Tutustu Turkkiin ilmaiseksi! ‚ö° <a href="https://www.tr81.tr/login.html">Kirjaudu</a> kaikkiin maihin',
      premium:'üîì Kaikki maat avattu!'},
    cs:{flag:'üá®üáø',name:'CS',title:'Svƒõtov√© krajiny',subtitle:'Skryt√° m√≠sta ve 150 zem√≠ch',
      search:'Hledat zemi...',banner:'Prozkoumejte Turecko zdarma! ‚ö° <a href="https://www.tr81.tr/login.html">P≈ôihl√°sit se</a> pro v≈°echny zemƒõ',
      premium:'üîì V≈°echny zemƒõ odemƒçeny!'}
  };

  /* === √úLKE Lƒ∞STESƒ∞ (ISO, slug) ‚Äì isimler dinamik √ºretilecek === */
  const countries = [
    ['tr','turkiye'],['af','afghanistan'],['al','albania'],['dz','algeria'],['ad','andorra'],
    ['ao','angola'],['ar','argentina'],['am','armenia'],['aw','aruba'],['au','australia'],
    ['at','austria'],['az','azerbaijan'],['bs','bahamas'],['bh','bahrain'],['bd','bangladesh'],
    ['by','belarus'],['be','belgium'],['bj','benin'],['bo','bolivia'],['ba','bosniaandherzegovina'],
    ['br','brazil'],['bg','bulgaria'],['bf','burkinafaso'],['bi','burundi'],['kh','cambodia'],
    ['cm','cameroon'],['ca','canada'],['td','chad'],['cl','chile'],['cn','china'],['co','colombia'],
    ['cr','costarica'],['hr','croatia'],['cu','cuba'],['cy','cyprus'],['cz','czechrepublic'],
    ['dk','denmark'],['do','dominicanrepublic'],['cd','drcongo'],['ec','ecuador'],['eg','egypt'],
    ['sv','elsalvador'],['ee','estonia'],['et','ethiopia'],['fi','finland'],['fr','france'],
    ['ge','georgia'],['de','germany'],['gh','ghana'],['gr','greece'],['gt','guatemala'],
    ['gn','guinea'],['ht','haiti'],['hn','honduras'],['hk','hongkong'],['hu','hungary'],
    ['is','iceland'],['in','india'],['id','indonesia'],['ir','iran'],['iq','iraq'],['ie','ireland'],
    ['il','israel'],['it','italy'],['ci','ivorycoast'],['jm','jamaica'],['jp','japan'],
    ['jo','jordan'],['kz','kazakhstan'],['ke','kenya'],['xk','kosovo'],['kw','kuwait'],
    ['kg','kyrgyzstan'],['la','laos'],['lv','latvia'],['lb','lebanon'],['ls','lesotho'],
    ['lt','lithuania'],['lu','luxembourg'],['mo','macau'],['mg','madagascar'],['mw','malawi'],
    ['my','malaysia'],['mv','maldives'],['ml','mali'],['mt','malta'],['mu','mauritius'],
    ['mx','mexico'],['md','moldova'],['mn','mongolia'],['me','montenegro'],['ma','morocco'],
    ['mz','mozambique'],['mm','myanmar'],['np','nepal'],['nl','netherlands'],['nz','newzealand'],
    ['ni','nicaragua'],['ne','niger'],['ng','nigeria'],['no','norway'],['om','oman'],['pk','pakistan'],
    ['pa','panama'],['pg','papuanewguinea'],['py','paraguay'],['pe','peru'],['ph','philippines'],
    ['pl','poland'],['pt','portugal'],['pr','puertorico'],['qa','qatar'],['ro','romania'],
    ['ru','russia'],['rw','rwanda'],['sm','sanmarino'],['sa','saudiarabia'],['sn','senegal'],
    ['rs','serbia'],['sl','sierraleone'],['sg','singapore'],['sk','slovakia'],['si','slovenia'],
    ['so','somalia'],['za','southafrica'],['kr','southkorea'],['ss','southsudan'],['es','spain'],
    ['lk','srilanka'],['sd','sudan'],['se','sweden'],['ch','switzerland'],['tw','taiwan'],
    ['tj','tajikistan'],['tz','tanzania'],['th','thailand'],['tg','togo'],['tn','tunisia'],
    ['ug','uganda'],['ua','ukraine'],['ae','unitedarabemirates'],['gb','unitedkingdom'],
    ['us','unitedstates'],['uy','uruguay'],['uz','uzbekistan'],['ve','venezuela'],['vn','vietnam'],
    ['ye','yemen'],['zm','zambia'],['zw','zimbabwe']
  ];

  /* === ARA√á FONKSƒ∞YONLARI === */
  const flag = iso => String.fromCodePoint(...[...iso.toUpperCase()].map(c=>0x1F1E6+c.charCodeAt(0)-65));
  const norm = t => t.toLowerCase().replace(/[√ßƒüƒ±√∂≈ü√º]/g,ch=>({√ß:'c',ƒü:'g',ƒ±:'i',√∂:'o',≈ü:'s',√º:'u'}[ch]));

  /* Yedek isimler (Intl desteklemezse) */
  const customNames = {
    xk:{ tr:'Kosova', en:'Kosovo', ru:'–ö–æ—Å–æ–≤–æ', de:'Kosovo', fr:'Kosovo', es:'Kosovo' }
  };

  /* Ge√ßerli dil kodu */
  let currentLang = 'tr';

  /* Tarayƒ±cƒ±‚Äëdil & yerelStorage tespiti */
  function detectLang(){
    const saved = localStorage.getItem('lang');
    if(saved && lang[saved]) return saved;
    const browser = navigator.language.toLowerCase();
    for(const code in lang){
      if(browser.startsWith(code)) return code;
    }
    return 'tr';
  }

  /* √úlke adƒ± getirme (Intl + fallback) */
  function getCountryName(iso, code){
    if(customNames[iso]?.[code]) return customNames[iso][code];
    try{
      const dn = new Intl.DisplayNames([code],{type:'region'});
      return dn.of(iso.toUpperCase()) || customNames[iso]?.en || iso.toUpperCase();
    }catch(e){
      return customNames[iso]?.en || iso.toUpperCase();
    }
  }

  /* Kart isimlerini g√ºncelle */
  function updateCountryCards(){
    document.querySelectorAll('.card').forEach(card=>{
      const iso = card.dataset.iso;
      const name = getCountryName(iso,currentLang);
      card.querySelector('.name').textContent = name;
      card.dataset.search = name;
    });
  }

  /* Dil ayarla */
  function setLang(code){
    currentLang = code;
    const t = lang[code];
    document.getElementById('title').textContent = t.title;
    document.getElementById('subtitle').textContent = t.subtitle;
    document.getElementById('search').placeholder = t.search;
    document.getElementById('langFlag').textContent = t.flag;
    document.getElementById('langName').textContent = t.name;

    const access = localStorage.getItem('duflat-access')==='granted';
    const info = document.getElementById('info');
    info.innerHTML = access ? t.premium : t.banner;
    info.className = access ? 'info premium' : 'info';

    document.documentElement.lang = code;
    localStorage.setItem('lang', code);

    document.querySelectorAll('.lang-item').forEach(i=>i.classList.toggle('active',i.dataset.lang===code));

    updateCountryCards();
  }

  /* Dil a√ßƒ±lƒ±r listesini olu≈ütur */
  function createLangMenu(){
    const list = document.getElementById('langList');
    for(const [code,data] of Object.entries(lang)){
      const item = document.createElement('div');
      item.className='lang-item';
      item.dataset.lang = code;
      item.innerHTML = `<span>${data.flag}</span><span>${data.name}</span>`;
      item.onclick = ()=>{ setLang(code); toggleLang(false); };
      list.appendChild(item);
    }
  }

  /* Men√º g√∂ster/gizle */
  function toggleLang(force){
    const list = document.getElementById('langList');
    if(force===false){ list.classList.remove('show'); }
    else{ list.classList.toggle('show'); }
  }

  /* √úlke sayfasƒ±na git */
  function go(slug){
    if(slug==='turkiye'){ location.href='t√ºrkiye.html'; return; }
    const access = localStorage.getItem('duflat-access')==='granted';
    location.href = access ? `${slug}.html` : 'login.html';
  }

  /* === BA≈ûLAT === */
  document.addEventListener('DOMContentLoaded',()=>{
    const grid = document.getElementById('grid');
    const search = document.getElementById('search');

    createLangMenu();
    setLang(detectLang());
    
    /* Mobil viewport height fix */
    function setViewportHeight() {
      let vh = window.innerHeight * 0.01;
      document.documentElement.style.setProperty('--vh', `${vh}px`);
    }
    
    setViewportHeight();
    window.addEventListener('resize', setViewportHeight);
    window.addEventListener('orientationchange', setViewportHeight);

    /* Kartlarƒ± olu≈ütur */
    countries.forEach(([iso,slug])=>{
      const card = document.createElement('div');
      card.className='card'+(slug==='turkiye'?' free':'');
      card.dataset.iso = iso;
      card.onclick = ()=>go(slug);
      card.innerHTML = `<span class="flag">${flag(iso)}</span><div class="name"></div>`;
      grid.appendChild(card);
    });

    updateCountryCards(); // ilk isim doldur

    /* Arama */
    search.addEventListener('input',e=>{
      const v = norm(e.target.value);
      document.getElementById('info').style.display = v ? 'none' : '';
      document.querySelectorAll('.card').forEach(c=>{
        c.style.display = norm(c.dataset.search).includes(v) ? '' : 'none';
      });
    });

    /* Dropdown kapat */
    document.addEventListener('click',e=>{
      if(!e.target.closest('.lang-select')) toggleLang(false);
    });
  });
  </script>
</body>
</html>
