<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Türkiye | 81 İlin En Güzel Manzaraları</title>

<!-- Inter Font -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
/* === Değişkenler === */
:root{
  --primary:#3b82f6;--primary-dark:#1d4ed8;--secondary:#8b5cf6;--accent:#f97316;
  --bg-grad:linear-gradient(135deg,#f8fafc 0%,#e2e8f0 100%);--card-bg:rgba(255,255,255,.95);
  --glass-bg:rgba(255,255,255,.60);--glass-border:rgba(0,0,0,.08);--text-primary:#334155;
  --text-secondary:#64748b;--text-muted:#94a3b8;--shadow-lg:0 6px 24px rgba(0,0,0,.08);
  --shadow-xl:0 12px 40px rgba(0,0,0,.12);
}

/* === Reset & Body === */
*{margin:0;padding:0;box-sizing:border-box;}
body{
  font-family:'Inter',sans-serif;
  background-image: url('https://imagedelivery.net/hvHh954PgWT-gbZ25oXErA/df156335-417a-4600-a36a-a78c69799c00/public');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-attachment: fixed;
  color:var(--text-primary);
  min-height:100vh;line-height:1.6;overflow-x:hidden;
  position: relative;
  -webkit-background-size: cover;
  -moz-background-size: cover;
  -o-background-size: cover;
  background-color: #e2e8f0;
}
body::after{
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(248, 250, 252, 0.4);
  pointer-events: none;
  z-index: 0;
}

.container{max-width:1100px;margin:0 auto;padding:0 16px;position:relative;z-index:1;}

/* === Language Selector === */
.lang-select{
  position:fixed;top:20px;right:20px;z-index:100;
}
.lang-btn{
  background:rgba(255,255,255,.2);backdrop-filter:blur(20px);
  border:1px solid rgba(255,255,255,.3);border-radius:12px;padding:10px 16px;cursor:pointer;
  font-size:14px;font-weight:500;display:flex;align-items:center;gap:6px;
  box-shadow:var(--shadow-lg);transition:.3s;color:var(--text-primary);
}
.lang-btn:hover{transform:translateY(-2px);box-shadow:var(--shadow-xl);background:rgba(255,255,255,.3);}
.lang-list{
  position:absolute;top:calc(100% + 8px);right:0;background:rgba(255,255,255,.98);
  backdrop-filter:blur(20px);border:1px solid var(--glass-border);border-radius:12px;
  box-shadow:var(--shadow-xl);max-height:320px;overflow-y:auto;display:none;min-width:160px;
}
.lang-list.show{display:block;animation:fadeIn .3s ease;}
.lang-item{
  padding:10px 16px;cursor:pointer;transition:background .2s;display:flex;
  align-items:center;gap:8px;font-size:14px;color:var(--text-primary);
}
.lang-item:hover{background:var(--glass-bg);color:var(--primary);}
.lang-item.active{background:var(--primary);color:#fff;}

/* === World Button === */
.world-button{
  position:fixed;top:20px;left:20px;z-index:100;
}
.world-btn{
  background:rgba(255,255,255,.2);backdrop-filter:blur(20px);
  border:1px solid rgba(255,255,255,.3);border-radius:12px;padding:10px 16px;cursor:pointer;
  font-size:14px;font-weight:500;display:flex;align-items:center;gap:6px;
  box-shadow:var(--shadow-lg);transition:.3s;color:var(--text-primary);
}
.world-btn:hover{transform:translateY(-2px);box-shadow:var(--shadow-xl);background:rgba(255,255,255,.3);}

/* === Header === */
.header{padding:80px 16px 40px;text-align:center;position:relative;z-index:1;}
.title{
  font-size:clamp(1.75rem,4vw,2.5rem);font-weight:700;margin-bottom:12px;
  letter-spacing:-.5px;
  line-height:1.4;
}
.title-word{
  display:inline-block;
  margin:0 0.15em;
  font-weight:700;
  transition:all 0.3s ease;
}
.title-word:hover{
  transform:translateY(-2px) scale(1.05);
}
.title-emoji{
  display:inline-block;
  font-size:1em;
  vertical-align:middle;
  margin-left:0.2em;
}
/* Doğa renkleri - düz renkler */
.word-0{color:#27ae60;} /* Orman yeşili */
.word-1{color:#3498db;} /* Gökyüzü mavisi */
.word-2{color:#e67e22;} /* Turuncu */
.word-3{color:#8e44ad;} /* Mor */
.word-4{color:#16a085;} /* Turkuaz */
.word-5{color:#c0392b;} /* Kırmızı */
.word-6{color:#f39c12;} /* Altın sarısı */

/* === Search === */
.search-box{max-width:320px;margin:0 auto 40px;position:relative;z-index:1;}
.search{
  width:100%;padding:14px 48px 14px 20px;font-size:15px;background:rgba(255,255,255,.3);
  backdrop-filter:blur(20px);border:2px solid rgba(255,255,255,.4);border-radius:20px;
  transition:.3s;color:var(--text-primary);
}
.search:focus{outline:none;border-color:var(--primary);
  box-shadow:0 0 0 3px rgba(59,130,246,.1);background:rgba(255,255,255,.5);}
.search-icon{position:absolute;right:20px;top:50%;transform:translateY(-50%);
  color:var(--text-secondary);pointer-events:none;}

/* === Info === */
.info{
  max-width:320px;margin:0 auto 40px;padding:20px 24px;text-align:center;
  background:rgba(255,255,255,.3);backdrop-filter:blur(20px);border:2px solid rgba(255,255,255,.4);
  border-radius:20px;font-size:14px;line-height:1.6;color:var(--text-primary);
  box-shadow:var(--shadow-lg);position:relative;z-index:1;display:block;
}
.info.premium{background:linear-gradient(135deg,rgba(220,252,231,.3) 0%,rgba(209,250,229,.3) 100%);
  backdrop-filter:blur(20px);border-color:rgba(22,163,74,.4);color:#16a34a;}
.info a{color:var(--primary);font-weight:600;text-decoration:none;transition:.3s;}
.info a:hover{color:var(--primary-dark);text-decoration:underline;}

/* === Grid === */
.grid{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:16px;
  padding-bottom:40px;
  position:relative;
  z-index:1;
  max-width:600px;
  margin:0 auto;
}
.card{
  background:rgba(255,255,255,.3);
  backdrop-filter:blur(20px);
  border:2px solid rgba(255,255,255,.4);
  border-radius:20px;
  padding:20px 12px;
  text-align:center;
  cursor:pointer;
  transition:.3s cubic-bezier(.4,0,.2,1);
  position:relative;
  box-shadow:var(--shadow-lg);
  aspect-ratio:1/1;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}
.card:hover{transform:translateY(-6px);box-shadow:var(--shadow-xl);border-color:var(--primary);background:rgba(255,255,255,.5);}
.city-code{font-weight:700;font-size:24px;color:var(--text-primary);line-height:1;}
.city-name{font-weight:400;font-size:13px;color:var(--text-secondary);margin-top:4px;word-break:break-word;line-height:1.2;}
.lock-icon{font-size:16px;margin-top:6px;display:block;}
.card.free{background:linear-gradient(135deg,rgba(254,243,199,.3) 0%,rgba(253,230,138,.3) 100%);backdrop-filter:blur(20px);border:2px solid rgba(245,158,11,.4);}

/* === Mobile === */
@media(max-width:768px){
  html, body {
    height: 100%;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
  }
  body{
    min-height: 100vh;
    background-image: url('https://imagedelivery.net/hvHh954PgWT-gbZ25oXErA/ce399dec-ddac-4455-521d-697751d46300/public');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    background-attachment: fixed;
    -webkit-background-size: cover;
    -moz-background-size: cover;
    -o-background-size: cover;
  }
  body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: url('https://imagedelivery.net/hvHh954PgWT-gbZ25oXErA/ce399dec-ddac-4455-521d-697751d46300/public');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    z-index: -2;
  }
  body::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(248, 250, 252, 0.2);
    pointer-events: none;
    z-index: -1;
  }
  /* Container düzenlemesi */
  .container{
    max-width:100%;
    min-height:100vh;
    position: relative;
    z-index: 1;
    padding: 0 12px 50px 12px;
  }
  /* Search box ve info özel ayarlar */
  .search-box {
    margin: 0 auto 40px !important;
    padding: 0 4px;
    max-width: calc(100% - 8px);
  }
  .info {
    margin: 0 auto 40px !important;
    max-width: calc(100% - 8px);
    background: rgba(255,255,255,.3) !important;
    backdrop-filter: blur(20px);
    border: 2px solid rgba(255,255,255,.4) !important;
  }
  /* Grid - mobilde sabit 3 sütun ve ortalama */
  .grid {
    gap:10px;
    padding-bottom:40px;
    grid-template-columns: repeat(3, 1fr);
    max-width: 100%;
    margin: 0 auto;
    padding-left: 0;
    padding-right: 0;
  }
  /* Kart boyutları mobilde */
  .card {
    padding: 18px 10px !important;
    aspect-ratio: 1/1 !important;
    width: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }
  .city-code{font-size:20px !important;line-height:1;}
  .city-name{font-size:11px !important;line-height:1.2;word-break:break-word;margin-top:3px;}
  .lock-icon{font-size:15px !important;margin-top:4px;display:block !important;}
  .info {
    background: rgba(255,255,255,.3) !important;
    backdrop-filter: blur(20px);
    border: 2px solid rgba(255,255,255,.4) !important;
    margin-left: 12px;
    margin-right: 12px;
  }
  .info.premium {
    background: linear-gradient(135deg,rgba(220,252,231,.3) 0%,rgba(209,250,229,.3) 100%) !important;
    backdrop-filter: blur(20px);
    border-color: rgba(22,163,74,.4) !important;
  }
  /* Diğer mobil stiller */
  .lang-select{top:16px;right:16px}
  .lang-btn{padding:8px 12px;font-size:13px}
  .world-button{top:16px;left:16px}
  .world-btn{padding:8px 12px;font-size:13px}
  .header{padding:70px 16px 32px}.title{font-size:1.875rem}
  .search{padding:12px 44px 12px 16px;font-size:14px}.info{font-size:13px;padding:16px 20px}
  .card{padding:20px 12px}
  .city-name{font-size:13px}
}
@media(max-width:480px){
  .grid{
    grid-template-columns:repeat(3, 1fr);
    gap:8px;
    padding-left: 0;
    padding-right: 0;
  }
  .card{
    padding: 15px 8px !important;
    aspect-ratio: 1/1 !important;
  }
  .city-code{font-size:18px !important;}
  .city-name{font-size:10px !important;}
  .lock-icon{font-size:14px !important;margin-top:3px;display:block !important;}
}
@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
.card{animation:fadeIn .3s ease;}

/* Desktop */
@media(min-width:769px){
  .search-box, .info {
    max-width: 600px !important;
  }
  .grid {
    max-width: 600px;
    margin: 0 auto;
    grid-template-columns: repeat(3, 1fr);
  }
}
</style>
</head>

<body>
  <!-- World Button -->
  <div class="world-button">
    <button class="world-btn" onclick="location.href='world.html'">
      <span>🌍</span>
      <span id="worldButtonText">Dünya Konumları</span>
    </button>
  </div>

  <!-- Language Selector -->
  <div class="lang-select">
    <button class="lang-btn" onclick="toggleLang()">
      <span id="langFlag">🇹🇷</span>
      <span id="langName">TR</span>
      <svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor">
        <path d="M3 5L6 8L9 5"/>
      </svg>
    </button>
    <div class="lang-list" id="langList"></div>
  </div>

  <div class="container">
    <div class="header">
      <h1 class="title" id="title">Türkiye'nin manzaralı yerlerini keşfet 📍</h1>
    </div>

    <!-- Search -->
    <div class="search-box">
      <input id="search" class="search" type="text" placeholder="Bir il ara..." autocomplete="off">
      <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
        <circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.35-4.35"></path>
      </svg>
    </div>

    <!-- Info -->
    <div id="info" class="info">
      Antalya'yı ücretsiz keşfet! ⚡ Tüm iller için <a href="https://www.tr81.tr/login.html">giriş yap</a>
    </div>

    <!-- Grid -->
    <div id="grid" class="grid"></div>
  </div>

<script>
// Çeviriler
const lang = {
  tr:{flag:'🇹🇷',name:'TR',title:'Türkiye\'nin manzaralı yerlerini keşfet 📍',
    search:'Bir il ara...',banner:'Antalya\'yı ücretsiz keşfet! ⚡ Tüm iller için <a href="https://www.tr81.tr/login.html">giriş yap</a>',
    premium:'🔓 Tüm iller açık!',worldButton:'Dünya Konumları'},
  en:{flag:'🇬🇧',name:'EN',title:'Explore Türkiye\'s scenic spots 📍',
    search:'Search province...',banner:'Explore Antalya free! ⚡ <a href="https://www.tr81.tr/login.html">Login</a> for all provinces',
    premium:'🔓 All provinces unlocked!',worldButton:'World Locations'},
  de:{flag:'🇩🇪',name:'DE',title:'Entdecke die malerischen Orte der Türkei 📍',
    search:'Provinz suchen...',banner:'Entdecke Antalya kostenlos! ⚡ <a href="https://www.tr81.tr/login.html">Anmelden</a> für alle Provinzen',
    premium:'🔓 Alle Provinzen freigeschaltet!',worldButton:'Weltweite Standorte'},
  fr:{flag:'🇫🇷',name:'FR',title:'Explorez les sites pittoresques de la Turquie 📍',
    search:'Rechercher une province...',banner:'Explorez Antalya gratuitement ! ⚡ <a href="https://www.tr81.tr/login.html">Se connecter</a> pour toutes les provinces',
    premium:'🔓 Toutes les provinces débloquées !',worldButton:'Sites mondiaux'},
  es:{flag:'🇪🇸',name:'ES',title:'Explora los lugares pintorescos de Turquía 📍',
    search:'Buscar provincia...',banner:'¡Explora Antalya gratis! ⚡ <a href="https://www.tr81.tr/login.html">Iniciar sesión</a> para todas las provincias',
    premium:'🔓 ¡Todas las provincias desbloqueadas!',worldButton:'Ubicaciones mundiales'},
  it:{flag:'🇮🇹',name:'IT',title:'Esplora i luoghi pittoreschi della Turchia 📍',
    search:'Cerca provincia...',banner:'Esplora Antalya gratuitamente! ⚡ <a href="https://www.tr81.tr/login.html">Accedi</a> per tutte le province',
    premium:'🔓 Tutte le province sbloccate!',worldButton:'Località mondiali'},
  pt:{flag:'🇵🇹',name:'PT',title:'Explore os locais pitorescos da Turquia 📍',
    search:'Pesquisar província...',banner:'Explore Antalya gratuitamente! ⚡ <a href="https://www.tr81.tr/login.html">Entrar</a> para todas as províncias',
    premium:'🔓 Todas as províncias desbloqueadas!',worldButton:'Localizações mundiais'},
  ru:{flag:'🇷🇺',name:'RU',title:'Исследуйте живописные места Турции 📍',
    search:'Поиск провинции...',banner:'Исследуйте Анталью бесплатно! ⚡ <a href="https://www.tr81.tr/login.html">Войти</a> для доступа ко всем провинциям',
    premium:'🔓 Все провинции разблокированы!',worldButton:'Мировые локации'},
  ja:{flag:'🇯🇵',name:'JA',title:'トルコの風光明媚な場所を探索 📍',
    search:'県を検索...',banner:'アンタルヤを無料で探索！⚡ すべての県にアクセスするには<a href="https://www.tr81.tr/login.html">ログイン</a>',
    premium:'🔓 すべての県が利用可能！',worldButton:'世界の場所'},
  zh:{flag:'🇨🇳',name:'ZH',title:'探索土耳其的风景名胜 📍',
    search:'搜索省份...',banner:'免费探索安塔利亚！⚡ <a href="https://www.tr81.tr/login.html">登录</a>访问所有省份',
    premium:'🔓 所有省份已解锁！',worldButton:'世界地点'},
  ar:{flag:'🇸🇦',name:'AR',title:'اكتشف المواقع الخلابة في تركيا 📍',
    search:'ابحث عن محافظة...',banner:'اكتشف أنطاليا مجانًا! ⚡ <a href="https://www.tr81.tr/login.html">تسجيل الدخول</a> للوصول إلى جميع المحافظات',
    premium:'🔓 جميع المحافظات متاحة!',worldButton:'المواقع العالمية'},
  ko:{flag:'🇰🇷',name:'KO',title:'터키의 경치 좋은 장소 탐험 📍',
    search:'도 검색...',banner:'안탈리아를 무료로 탐험하세요! ⚡ 모든 도에 접근하려면 <a href="https://www.tr81.tr/login.html">로그인</a>',
    premium:'🔓 모든 도 이용 가능!',worldButton:'세계 위치'}
};

// Şehir listesi
const cities = [
  ['antalya','Antalya'],['adana','Adana'],['adiyaman','Adıyaman'],
  ['afyon','Afyonkarahisar'],['agri','Ağrı'],['aksaray','Aksaray'],
  ['amasya','Amasya'],['ankara','Ankara'],['ardahan','Ardahan'],
  ['artvin','Artvin'],['aydin','Aydın'],['balikesir','Balıkesir'],
  ['bartin','Bartın'],['batman','Batman'],['bayburt','Bayburt'],
  ['bilecik','Bilecik'],['bingol','Bingöl'],['bitlis','Bitlis'],
  ['bolu','Bolu'],['burdur','Burdur'],['bursa','Bursa'],
  ['canakkale','Çanakkale'],['cankiri','Çankırı'],['corum','Çorum'],
  ['denizli','Denizli'],['diyarbakir','Diyarbakır'],['duzce','Düzce'],
  ['edirne','Edirne'],['elazig','Elazığ'],['erzincan','Erzincan'],
  ['erzurum','Erzurum'],['eskisehir','Eskişehir'],['gaziantep','Gaziantep'],
  ['giresun','Giresun'],['gumushane','Gümüşhane'],['hakkari','Hakkari'],
  ['hatay','Hatay'],['igdir','Iğdır'],['isparta','Isparta'],
  ['istanbul','İstanbul'],['izmir','İzmir'],['kahramanmaras','Kahramanmaraş'],
  ['karabuk','Karabük'],['karaman','Karaman'],['kars','Kars'],
  ['kastamonu','Kastamonu'],['kayseri','Kayseri'],['kilis','Kilis'],
  ['kirikkale','Kırıkkale'],['kirklareli','Kırklareli'],['kirsehir','Kırşehir'],
  ['kocaeli','Kocaeli'],['konya','Konya'],['kutahya','Kütahya'],
  ['malatya','Malatya'],['manisa','Manisa'],['mardin','Mardin'],
  ['mersin','Mersin'],['mugla','Muğla'],['mus','Muş'],
  ['nevsehir','Nevşehir'],['nigde','Niğde'],['ordu','Ordu'],
  ['osmaniye','Osmaniye'],['rize','Rize'],['sakarya','Sakarya'],
  ['samsun','Samsun'],['sanliurfa','Şanlıurfa'],['siirt','Siirt'],
  ['sinop','Sinop'],['sirnak','Şırnak'],['sivas','Sivas'],
  ['tekirdag','Tekirdağ'],['tokat','Tokat'],['trabzon','Trabzon'],
  ['tunceli','Tunceli'],['usak','Uşak'],['van','Van'],
  ['yalova','Yalova'],['yozgat','Yozgat'],['zonguldak','Zonguldak']
];

// İl ismi çevirileri
const cityTranslations = {
  istanbul: {
    en: 'Istanbul', de: 'Istanbul', fr: 'Istanbul', es: 'Estambul', it: 'Istanbul',
    pt: 'Istambul', ru: 'Стамбул', ja: 'イスタンブール', zh: '伊斯坦布尔', ar: 'إسطنبول', ko: '이스탄불'
  },
  izmir: {
    en: 'Izmir', de: 'Izmir', fr: 'Izmir', es: 'Esmirna', it: 'Smirne',
    pt: 'Esmirna', ru: 'Измир', ja: 'イズミル', zh: '伊兹密尔', ar: 'إزمير', ko: '이즈미르'
  },
  ankara: {
    en: 'Ankara', de: 'Ankara', fr: 'Ankara', es: 'Ankara', it: 'Ankara',
    pt: 'Ancara', ru: 'Анкара', ja: 'アンカラ', zh: '安卡拉', ar: 'أنقرة', ko: '앙카라'
  },
  antalya: {
    en: 'Antalya', de: 'Antalya', fr: 'Antalya', es: 'Antalya', it: 'Antalya',
    pt: 'Antália', ru: 'Анталья', ja: 'アンタルヤ', zh: '安塔利亚', ar: 'أنطاليا', ko: '안탈리아'
  },
  bursa: {
    en: 'Bursa', de: 'Bursa', fr: 'Bursa', es: 'Bursa', it: 'Bursa',
    pt: 'Bursa', ru: 'Бурса', ja: 'ブルサ', zh: '布尔萨', ar: 'بورصة', ko: '부르사'
  },
  edirne: {
    en: 'Edirne', de: 'Edirne', fr: 'Edirne', es: 'Edirne', it: 'Edirne',
    pt: 'Edirne', ru: 'Эдирне', ja: 'エディルネ', zh: '埃迪尔内', ar: 'أدرنة', ko: '에디르네'
  },
  trabzon: {
    en: 'Trabzon', de: 'Trabzon', fr: 'Trébizonde', es: 'Trebisonda', it: 'Trebisonda',
    pt: 'Trebizonda', ru: 'Трабзон', ja: 'トラブゾン', zh: '特拉布宗', ar: 'طرابزون', ko: '트라브존'
  },
  canakkale: {
    en: 'Canakkale', de: 'Tschanakkale', fr: 'Çanakkale', es: 'Çanakkale', it: 'Çanakkale',
    pt: 'Çanakkale', ru: 'Чанаккале', ja: 'チャナッカレ', zh: '恰纳卡莱', ar: 'جناق قلعة', ko: '차나칼레'
  },
  konya: {
    en: 'Konya', de: 'Konya', fr: 'Konya', es: 'Konya', it: 'Konya',
    pt: 'Konya', ru: 'Конья', ja: 'コンヤ', zh: '科尼亚', ar: 'قونية', ko: '코니아'
  },
  kayseri: {
    en: 'Kayseri', de: 'Kayseri', fr: 'Kayseri', es: 'Kayseri', it: 'Kayseri',
    pt: 'Kayseri', ru: 'Кайсери', ja: 'カイセリ', zh: '开塞利', ar: 'قيصري', ko: '카이세리'
  }
};

// İl ismini dile göre getir
function getCityName(slug, originalName, langCode) {
  if (langCode === 'tr') return originalName;
  if (cityTranslations[slug] && cityTranslations[slug][langCode]) {
    return cityTranslations[slug][langCode];
  }
  return originalName;
}

// Kartları güncelle
function updateCards() {
  if (typeof currentLang === 'undefined') return;
  
  document.querySelectorAll('.card').forEach(card => {
    const slug = card.dataset.slug;
    const originalName = card.dataset.originalName;
    if (!slug || !originalName) return;
    
    const translatedName = getCityName(slug, originalName, currentLang);
    
    // İlk 2 harfi güncelle
    const code = translatedName.substring(0, 2).toUpperCase();
    const codeElement = card.querySelector('.city-code');
    const nameElement = card.querySelector('.city-name');
    
    if (codeElement) codeElement.textContent = code;
    if (nameElement) nameElement.textContent = translatedName;
    
    // Arama için veriyi güncelle
    card.dataset.search = translatedName;
  });
}

// Normalize fonksiyonu
const norm = t => t.toLowerCase().replace(/[çğıöşü]/g,ch=>({ç:'c',ğ:'g',ı:'i',ö:'o',ş:'s',ü:'u'}[ch]));

// Mevcut dil
let currentLang = 'tr';

// Tarayıcı dili tespit et
function detectLang(){
  const saved = localStorage.getItem('lang');
  if(saved && lang[saved]) return saved;
  const browser = navigator.language.toLowerCase();
  for(const code in lang){
    if(browser.startsWith(code)) return code;
  }
  return 'tr';
}

// Başlığı renklendir
function colorizeTitle() {
  const titleElement = document.getElementById('title');
  if (!titleElement) return;
  
  const text = titleElement.textContent;
  
  // 📍 emojisini ayır
  const parts = text.split('📍');
  const words = parts[0].trim().split(/\s+/);
  
  // Her kelimeyi renkli span'a dönüştür
  let html = '';
  words.forEach((word, index) => {
    const colorIndex = index % 7;
    html += `<span class="title-word word-${colorIndex}">${word}</span> `;
  });
  
  // 📍 emojisini ekle
  html += '<span class="title-emoji">📍</span>';
  
  titleElement.innerHTML = html;
}

// Dil ayarla
function setLang(code){
  currentLang = code;
  const t = lang[code];
  document.getElementById('title').textContent = t.title;
  document.getElementById('search').placeholder = t.search;
  document.getElementById('langFlag').textContent = t.flag;
  document.getElementById('langName').textContent = t.name;
  document.getElementById('worldButtonText').textContent = t.worldButton;
  
  const access = localStorage.getItem('duflat-access')==='granted';
  const info = document.getElementById('info');
  info.innerHTML = access ? t.premium : t.banner;
  info.className = access ? 'info premium' : 'info';
  
  document.documentElement.lang = code;
  localStorage.setItem('lang', code);
  
  document.querySelectorAll('.lang-item').forEach(i=>i.classList.toggle('active',i.dataset.lang===code));
  
  // Başlığı renklendir
  colorizeTitle();
  
  // Kartları güncelle
  updateCards();
}

// Dil menüsünü oluştur
function createLangMenu(){
  const list = document.getElementById('langList');
  for(const [code,data] of Object.entries(lang)){
    const item = document.createElement('div');
    item.className='lang-item';
    item.dataset.lang = code;
    item.innerHTML = `<span>${data.flag}</span><span>${data.name}</span>`;
    item.onclick = ()=>{ setLang(code); toggleLang(false); };
    list.appendChild(item);
  }
}

// Menü göster/gizle
function toggleLang(force){
  const list = document.getElementById('langList');
  if(force===false){ list.classList.remove('show'); }
  else{ list.classList.toggle('show'); }
}

// Sayfa yüklendiğinde
document.addEventListener('DOMContentLoaded', () => {
  const grid = document.getElementById('grid');
  const search = document.getElementById('search');
  const access = localStorage.getItem('duflat-access') === 'granted';
  
  createLangMenu();
  setLang(detectLang());
  
  // Kartları oluştur
  cities.forEach(([slug, name]) => {
    const card = document.createElement('div');
    card.className = 'card' + (slug === 'antalya' ? ' free' : '');
    card.dataset.slug = slug;
    card.dataset.originalName = name;
    
    // Dile göre ismi al
    const translatedName = getCityName(slug, name, currentLang);
    card.dataset.search = translatedName;
    
    // İlk 2 harfi büyük yap
    const code = translatedName.substring(0, 2).toUpperCase();
    
    const locked = (!access && slug !== 'antalya');
    let cardContent = `<div class="city-code">${code}</div>`;
    cardContent += `<div class="city-name">${translatedName}</div>`;
    if(locked) {
      cardContent += `<span class="lock-icon">🔒</span>`;
    }
    card.innerHTML = cardContent;
    
    card.onclick = () => {
      if(access || slug === 'antalya') {
        location.href = slug === 'antalya' ? 'antalya_demo.html' : `${slug}.html`;
      } else {
        location.href = 'login.html';
      }
    };
    
    grid.appendChild(card);
  });
  
  // Arama
  search.addEventListener('input', e => {
    const v = norm(e.target.value);
    document.getElementById('info').style.display = v ? 'none' : '';
    document.querySelectorAll('.card').forEach(c => {
      c.style.display = norm(c.dataset.search).includes(v) ? '' : 'none';
    });
  });
  
  // Dropdown kapat
  document.addEventListener('click',e=>{
    if(!e.target.closest('.lang-select')) toggleLang(false);
  });
});
</script>
</body>
</html>
