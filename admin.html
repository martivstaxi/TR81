<!DOCTYPE html>  
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Şehirler</title>
  <style>
    :root {
      --primary: #2563eb;       /* Modern mavi */
      --primary-dark: #1d4ed8;  /* Koyu mavi */
      --primary-light: #60a5fa; /* Açık mavi */
      --accent: #f97316;        /* Turuncu aksan */
      --dark: #1e293b;          /* Koyu gri */
      --light: #f8fafc;         /* Açık arka plan */
      --white: #ffffff;         /* Beyaz */
      --text: #334155;          /* Metin rengi */
      --text-light: #64748b;    /* Açık metin */
      --shadow: rgba(0, 0, 0, 0.08); /* Gölge rengi */
      --card-bg: #ffffff;       /* Kart arka planı */
      --hover: #dbeafe;         /* Hover efekti */
      --border: #e2e8f0;        /* Sınır rengi */
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      text-align: center;
      padding: 20px;
      overflow-y: auto;
      background-color: var(--light);
      color: var(--text);
      line-height: 1.6;
    }
    
    .info-banner {
      font-size: 16px;
      color: var(--text);
      max-width: 1000px;
      text-align: left;
      line-height: 1.5;
      font-weight: 400;
      background-color: var(--white);
      padding: 16px;
      border-radius: 12px;
      box-shadow: 0 4px 12px var(--shadow);
      z-index: 100;
      margin: 30px auto;
      border: 1px solid var(--border);
    }
    
    .info-banner a {
      color: var(--primary);
      text-decoration: none;
      font-weight: 600;
      transition: color 0.2s;
    }
    
    .info-banner a:hover {
      color: var(--primary-dark);
      text-decoration: underline;
    }
    
    h1 {
      font-size: 28px;
      margin-top: 30px;
      margin-bottom: 30px;
      font-weight: 600;
    }
    
    h1.city-title {
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      color: var(--white);
      padding: 14px;
      border-radius: 12px;
      max-width: 1000px;
      margin: 40px auto 30px auto;
      position: relative;
      box-shadow: 0 4px 12px rgba(37, 99, 235, 0.2);
    }
    
    .city-container {
      margin-bottom: 60px;
    }
    
    .city-content {
      display: block;
      transition: max-height 0.4s ease-out;
      overflow: hidden;
      max-height: 5000px;
    }
    
    .city-content.collapsed {
      max-height: 0;
    }
    
    .city-section {
      margin-bottom: 30px;
      background-color: var(--card-bg);
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 4px 12px var(--shadow);
      max-width: 1000px;
      margin-left: auto;
      margin-right: auto;
      transition: transform 0.3s, box-shadow 0.3s;
      border: 1px solid var(--border);
    }
    
    .city-section:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 16px var(--shadow);
    }
    
    .city-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
      padding-bottom: 12px;
      border-bottom: 1px solid var(--border);
    }
    
    .city-title {
      margin: 0;
      font-size: 20px;
      color: var(--dark);
      font-weight: 600;
    }
    
    .city-photos {
      display: flex;
      gap: 15px;
      overflow-x: auto;
      padding: 8px 0;
      scroll-snap-type: x mandatory;
      scrollbar-width: none;
    }
    
    .city-photos::-webkit-scrollbar {
      display: none;
    }
    
    .photo-card {
      flex: 0 0 auto;
      width: 220px;
      height: 220px;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 8px var(--shadow);
      scroll-snap-align: start;
      background-color: var(--white);
      position: relative;
      transition: transform 0.3s, box-shadow 0.3s;
      border: 1px solid var(--border);
    }
    
    .photo-card:hover {
      transform: scale(1.02);
      box-shadow: 0 8px 20px var(--shadow);
    }
    
    .photo-card img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
    
    .back-link {
      margin-top: 30px;
      margin-bottom: 30px;
      display: inline-block;
      color: var(--primary);
      text-decoration: none;
      font-weight: 500;
      padding: 8px 16px;
      border-radius: 8px;
      transition: background-color 0.3s, color 0.3s;
    }
    
    .back-link:hover {
      background-color: var(--hover);
      text-decoration: none;
    }
    
    .location-link {
      text-decoration: none;
      color: var(--primary);
      display: flex;
      align-items: center;
      transition: color 0.3s;
    }
    
    .location-link:hover {
      color: var(--accent);
    }
    
    .click-icon {
      margin-right: 6px;
      display: inline-block;
      color: var(--accent);
    }
    
    .click-icon::before {
      content: "➤";
      display: inline-block;
    }

    /* EDİTOR PANEL */
    .edit-panel {
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--white);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 18px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
      z-index: 1000;
      max-height: 80vh;
      overflow-y: auto;
      display: none;
      width: 350px;
    }
    
    .edit-panel h3 {
      margin-top: 0;
      color: var(--dark);
      font-weight: 600;
    }
    
    .edit-panel input, 
    .edit-panel button, 
    .edit-panel select {
      margin: 8px 0;
      padding: 10px 12px;
      width: 100%;
      box-sizing: border-box;
      border-radius: 8px;
      border: 1px solid var(--border);
      font-family: inherit;
    }
    
    .edit-panel input:focus,
    .edit-panel select:focus,
    .edit-panel textarea:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.2);
    }
    
    .edit-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 50%;
      width: 56px;
      height: 56px;
      cursor: pointer;
      font-size: 24px;
      z-index: 1000;
      box-shadow: 0 4px 12px rgba(37, 99, 235, 0.4);
      transition: background-color 0.3s, transform 0.2s;
    }
    
    .edit-btn:hover {
      background: var(--primary-dark);
      transform: scale(1.05);
    }

    .export-btn {
      background: #10b981; /* Yeşil */
      margin-top: 10px;
      color: white;
      border: none;
      border-radius: 8px;
      padding: 10px;
      cursor: pointer;
      font-weight: 500;
      transition: background-color 0.3s;
    }
    
    .export-btn:hover {
      background: #059669; /* Koyu yeşil */
    }
    
    #bulkLocations {
      font-family: monospace;
      resize: vertical;
      border-radius: 8px;
      padding: 10px;
      border: 1px solid var(--border);
    }
    
    .add-city-btn {
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 12px 20px;
      margin: 20px auto;
      cursor: pointer;
      font-size: 16px;
      display: block;
      font-weight: 500;
      transition: background-color 0.3s;
    }
    
    .add-city-btn:hover {
      background: var(--primary-dark);
    }
    
    .city-actions {
      margin-top: 15px;
      display: flex;
      gap: 10px;
    }
    
    .city-actions button {
      flex: 1;
      font-weight: 500;
      transition: background-color 0.3s, transform 0.2s;
    }
    
    .city-actions button:hover {
      transform: translateY(-2px);
    }
    
    .btn-delete {
      background: #ef4444; /* Kırmızı */
      color: white;
      border: none;
    }
    
    .btn-delete:hover {
      background: #dc2626; /* Koyu kırmızı */
    }
    
    .btn-move-up, .btn-move-down {
      background: #6366f1; /* Mor */
      color: white;
      border: none;
    }
    
    .btn-move-up:hover, .btn-move-down:hover {
      background: #4f46e5; /* Koyu mor */
    }
    
    .tab-buttons {
      display: flex;
      margin-bottom: 15px;
      border-radius: 10px;
      overflow: hidden;
      border: 1px solid var(--border);
    }
    
    .tab-button {
      flex: 1;
      padding: 10px;
      background: var(--light);
      border: none;
      cursor: pointer;
      font-weight: 500;
      transition: background-color 0.3s;
    }
    
    .tab-button.active {
      background: var(--primary);
      color: white;
    }
    
    .tab-content {
      display: none;
    }
    
    .tab-content.active {
      display: block;
    }
    
    /* Duyarlı tasarım için ek stiller */
    @media (max-width: 768px) {
      .photo-card {
        width: 180px;
        height: 180px;
      }
      
      .edit-panel {
        width: 85%;
        max-width: 350px;
      }
    }
  </style>
</head>
<body>
  <!-- Şehirler dinamik olarak burada görünecek -->
  <div id="cities-container"></div>
  
  <!-- Bilgi mesajı -->
  <div class="info-banner" id="main-info-banner" dir="auto"></div>
  
  <p><a href="https://www.duflat.com" target="_blank" class="back-link">www.duflat.com →</a></p>

  <!-- EDİTOR PANEL -->
  <button class="edit-btn" onclick="toggleEditPanel()">✎</button>
  
  <div class="edit-panel" id="editPanel">
    <div class="tab-buttons">
      <button class="tab-button active" onclick="openTab('cityTab')">Şehir İşlemleri</button>
      <button class="tab-button" onclick="openTab('locationTab')">Konum İşlemleri</button>
      <button class="tab-button" onclick="openTab('exportTab')">Dışa Aktar</button>
    </div>
    
    <div id="cityTab" class="tab-content active">
      <h3>⚙️ Şehir İşlemleri</h3>
      <input type="text" id="newCityName" placeholder="Yeni Şehir Adı">
      <button onclick="addNewCity()" class="add-city-btn">Yeni Şehir Ekle</button>
      
      <h3>Mevcut Şehirleri Düzenle</h3>
      <select id="citySelector" onchange="selectCity()">
        <option value="">Şehir Seçin</option>
      </select>
      <input type="text" id="cityName" placeholder="Şehir Adı" style="margin-top: 10px;">
      <div class="city-actions">
        <button onclick="updateCityName()">Güncelle</button>
        <button class="btn-delete" onclick="deleteCity()">Sil</button>
      </div>
      <div class="city-actions">
        <button class="btn-move-up" onclick="moveCity(-1)">Yukarı Taşı</button>
        <button class="btn-move-down" onclick="moveCity(1)">Aşağı Taşı</button>
      </div>
    </div>
    
    <div id="locationTab" class="tab-content">
      <h3>📍 Konum İşlemleri</h3>
      <select id="locationCitySelector">
        <option value="">Şehir Seçin</option>
      </select>
      
      <h4>📝 Toplu Konum Ekle</h4>
      <textarea id="bulkLocations" rows="10" placeholder="Her satıra bir konum ekleyin. Format: KonumAdı@@GoogleMapsLink@@Foto1@@Foto2@@Foto3" style="width: 100%; margin-bottom: 10px; box-sizing: border-box;"></textarea>
      <button onclick="addBulkLocations()" class="add-city-btn">Toplu Ekle</button>
      <button onclick="clearLocations()" class="btn-delete">Tüm Konumları Temizle</button>
    </div>
    
    <div id="exportTab" class="tab-content">
      <h3>🔄 Dışa Aktarma</h3>
      <select id="exportCitySelector">
        <option value="all">Tüm Şehirler</option>
      </select>
      <button class="export-btn" onclick="exportHTML()">HTML Kodunu Kopyala</button>
      <button onclick="resetLocalStorage()" class="btn-delete" style="margin-top: 20px;">Tüm Veriyi Sıfırla</button>
    </div>
    
    <button onclick="toggleEditPanel()" style="margin-top: 20px; background: var(--dark); color: white; border: none;">Kapat</button>
  </div>

  <script>
    // ===== VERİ İŞLEMLERİ =====
    
    // Tüm şehirleri alma fonksiyonu
    function getCities() {
      const savedCities = localStorage.getItem('cities');
      if (savedCities) {
        return JSON.parse(savedCities);
      } else {
        // Varsayılan olarak Antalya şehrini ekle
        const defaultCities = ['Antalya'];
        localStorage.setItem('cities', JSON.stringify(defaultCities));
        return defaultCities;
      }
    }
    
    // Şehirleri kaydetme fonksiyonu
    function saveCities(cities) {
      localStorage.setItem('cities', JSON.stringify(cities));
    }
    
    // Bir şehir için lokasyon verilerini getirme
    function getLocationsForCity(cityName) {
      const storageKey = 'locations_' + cityName;
      const savedLocations = localStorage.getItem(storageKey);
      
      if (savedLocations) {
        return JSON.parse(savedLocations);
      } else {
        return [];
      }
    }
    
    // Lokasyonları kaydetme
    function saveLocationsForCity(cityName, locations) {
      const storageKey = 'locations_' + cityName;
      localStorage.setItem(storageKey, JSON.stringify(locations));
    }
    
    // Şehir adını alma
    function getCityDisplayName(cityName) {
      const storageKey = 'cityName_' + cityName;
      const savedName = localStorage.getItem(storageKey);
      return savedName || cityName;
    }
    
    // Şehir adını kaydetme
    function saveCityDisplayName(cityName, displayName) {
      const storageKey = 'cityName_' + cityName;
      localStorage.setItem(storageKey, displayName);
    }
    
    // localStorage'ı tamamen sıfırla
    function resetLocalStorage() {
      if (confirm('Tüm kaydedilen veriyi silmek istediğinizden emin misiniz?')) {
        const cities = getCities();
        
        // Önce tüm şehir verilerini temizle
        cities.forEach(city => {
          localStorage.removeItem('locations_' + city);
          localStorage.removeItem('cityName_' + city);
        });
        
        // Şehir listesini temizle
        localStorage.removeItem('cities');
        
        location.reload();
      }
    }
    
    // ===== RENDER İŞLEMLERİ =====
    
    // Tüm şehirleri render etme
    function renderCities() {
      const container = document.getElementById('cities-container');
      const cities = getCities();
      
      container.innerHTML = '';
      
      cities.forEach(city => {
        const displayName = getCityDisplayName(city);
        const locations = getLocationsForCity(city);
        
        // Şehir container oluştur
        const cityContainer = document.createElement('div');
        cityContainer.className = 'city-container';
        cityContainer.id = 'city-' + city;
        
        // Şehir başlığı oluştur
        const cityTitle = document.createElement('h1');
        cityTitle.className = 'city-title';
        cityTitle.textContent = '📸 ' + displayName;
        
        // İçerik div
        const cityContent = document.createElement('div');
        cityContent.className = 'city-content';
        cityContent.id = 'content-' + city;
        
        // Lokasyonları ekle
        if (locations.length > 0) {
          locations.forEach(location => {
            const section = document.createElement('div');
            section.className = 'city-section';
            
            let photosHTML = '';
            for(var j = 0; j < location.photos.length; j++) {
              photosHTML += '\n      <div class="photo-card">\n        <img src="' + location.photos[j] + '" alt="' + location.name + '">\n      </div>';
            }
            
            section.innerHTML = 
              '\n    <div class="city-header">\n      <h2 class="city-title">\n        <a href="' + location.link + '" target="_blank" class="location-link">\n          <span class="click-icon"></span>\n          ' + location.name + ' 📍\n        </a>\n      </h2>\n    </div>\n    \n    <div class="city-photos">' + photosHTML + '\n    </div>\n  ';
            
            cityContent.appendChild(section);
          });
        } else {
          const emptyMessage = document.createElement('div');
          emptyMessage.className = 'city-section';
          emptyMessage.innerHTML = '<p>Bu şehir için henüz konum eklenmemiş.</p>';
          cityContent.appendChild(emptyMessage);
        }
        
        // Bilgi mesajı ekle
        const infoBanner = document.createElement('div');
        infoBanner.className = 'info-banner';
        infoBanner.setAttribute('dir', 'auto');
        infoBanner.innerHTML = getLanguageMessage();
        cityContent.appendChild(infoBanner);
        
        // Şehir container'a ekle
        cityContainer.appendChild(cityTitle);
        cityContainer.appendChild(cityContent);
        container.appendChild(cityContainer);
      });
      
      updateSelectors();
    }
    
    // ===== EDIT PANEL İŞLEMLERİ =====
    
    // Edit panelini aç/kapat
    function toggleEditPanel() {
      const panel = document.getElementById('editPanel');
      const isHidden = panel.style.display === 'none' || panel.style.display === '';
      panel.style.display = isHidden ? 'block' : 'none';
      
      if (isHidden) {
        updateSelectors();
      }
    }
    
    // Sekmeleri açma
    function openTab(tabName) {
      // Tüm sekme içeriklerini gizle
      document.querySelectorAll('.tab-content').forEach(tab => {
        tab.classList.remove('active');
      });
      
      // Tüm sekme butonlarını normal duruma getir
      document.querySelectorAll('.tab-button').forEach(button => {
        button.classList.remove('active');
      });
      
      // Seçilen sekmeyi göster
      document.getElementById(tabName).classList.add('active');
      
      // Seçilen sekme butonunu aktif yap
      document.querySelectorAll('.tab-button').forEach(button => {
        if (button.getAttribute('onclick').includes(tabName)) {
          button.classList.add('active');
        }
      });
    }
    
    // Yeni şehir ekleme
    function addNewCity() {
      const newCityInput = document.getElementById('newCityName');
      const newCity = newCityInput.value.trim();
      
      if (!newCity) {
        alert('Lütfen bir şehir adı girin!');
        return;
      }
      
      const cities = getCities();
      
      // Aynı isimde bir şehir var mı kontrol et
      if (cities.includes(newCity)) {
        alert('Bu isimde bir şehir zaten var!');
        return;
      }
      
      // Şehri ekle
      cities.push(newCity);
      saveCities(cities);
      
      // Şehir görüntüleme adını kaydet
      saveCityDisplayName(newCity, newCity);
      
      // Input'u temizle
      newCityInput.value = '';
      
      // Sayfayı yenile
      renderCities();
    }
    
    // Şehir seç
    function selectCity() {
      const selector = document.getElementById('citySelector');
      const cityNameInput = document.getElementById('cityName');
      const selectedCity = selector.value;
      
      if (selectedCity) {
        cityNameInput.value = getCityDisplayName(selectedCity);
      } else {
        cityNameInput.value = '';
      }
    }
    
    // Şehir adını güncelleme
    function updateCityName() {
      const selector = document.getElementById('citySelector');
      const cityNameInput = document.getElementById('cityName');
      const selectedCity = selector.value;
      const newName = cityNameInput.value.trim();
      
      if (!selectedCity) {
        alert('Lütfen bir şehir seçin!');
        return;
      }
      
      if (!newName) {
        alert('Lütfen bir şehir adı girin!');
        return;
      }
      
      // Şehir görüntüleme adını güncelle
      saveCityDisplayName(selectedCity, newName);
      
      // Sayfayı yenile
      renderCities();
    }
    
    // Şehri silme
    function deleteCity() {
      const selector = document.getElementById('citySelector');
      const selectedCity = selector.value;
      
      if (!selectedCity) {
        alert('Lütfen bir şehir seçin!');
        return;
      }
      
      if (!confirm(selectedCity + ' şehrini ve tüm konumlarını silmek istediğinizden emin misiniz?')) {
        return;
      }
      
      // Şehir verilerini sil
      localStorage.removeItem('locations_' + selectedCity);
      localStorage.removeItem('cityName_' + selectedCity);
      
      // Şehri listeden çıkar
      const cities = getCities();
      const index = cities.indexOf(selectedCity);
      if (index > -1) {
        cities.splice(index, 1);
        saveCities(cities);
      }
      
      // Sayfayı yenile
      renderCities();
    }
    
    // Şehri taşıma
    function moveCity(direction) {
      const selector = document.getElementById('citySelector');
      const selectedCity = selector.value;
      
      if (!selectedCity) {
        alert('Lütfen bir şehir seçin!');
        return;
      }
      
      const cities = getCities();
      const index = cities.indexOf(selectedCity);
      
      if (index === -1) return;
      
      const newIndex = index + direction;
      
      // Sınırları kontrol et
      if (newIndex < 0 || newIndex >= cities.length) {
        return;
      }
      
      // Şehirlerin yerini değiştir
      [cities[index], cities[newIndex]] = [cities[newIndex], cities[index]];
      
      // Kaydet ve yenile
      saveCities(cities);
      renderCities();
      
      // Seçimi koru
      document.getElementById('citySelector').value = selectedCity;
    }
    
    // Toplu konum ekleme
    function addBulkLocations() {
      const citySelector = document.getElementById('locationCitySelector');
      const selectedCity = citySelector.value;
      const bulkText = document.getElementById('bulkLocations').value;
      
      if (!selectedCity) {
        alert('Lütfen bir şehir seçin!');
        return;
      }
      
      if (!bulkText.trim()) {
        alert('Lütfen konum bilgilerini girin!');
        return;
      }
      
      const lines = bulkText.split('\n');
      let successCount = 0;
      const locations = getLocationsForCity(selectedCity);
      
      for(var i = 0; i < lines.length; i++) {
        var line = lines[i];
        if (!line.trim()) continue;
        
        let cleanedLine = line.replace(/^\d+\.\s*/, '');
        const parts = cleanedLine.split('@@');
        
        if (parts.length < 2) {
          console.log('Satır ' + (i + 1) + ': Eksik veri - "' + cleanedLine + '"');
          continue;
        }
        
        const name = parts[0].trim();
        const link = parts[1].trim();
        const photos = [];
        
        for (let j = 2; j < parts.length && j < 5; j++) {
          if (parts[j].trim() && parts[j].trim().startsWith('https://')) {
            photos.push(parts[j].trim());
          }
        }
        
        if (!name || !link) {
          console.log('Satır ' + (i + 1) + ': Ad veya link eksik - "' + cleanedLine + '"');
          continue;
        }
        
        const newLocation = {
          name: name,
          photos: photos,
          link: link
        };
        
        locations.push(newLocation);
        successCount++;
        console.log('Satır ' + (i + 1) + ': Başarıyla eklendi - "' + name + '"');
      }
      
      saveLocationsForCity(selectedCity, locations);
      renderCities();
      document.getElementById('bulkLocations').value = '';
    }
    
    // Konumları temizleme
    function clearLocations() {
      const citySelector = document.getElementById('locationCitySelector');
      const selectedCity = citySelector.value;
      
      if (!selectedCity) {
        alert('Lütfen bir şehir seçin!');
        return;
      }
      
      if (!confirm(selectedCity + ' şehri için tüm konumları silmek istediğinizden emin misiniz?')) {
        return;
      }
      
      // Konumları temizle
      saveLocationsForCity(selectedCity, []);
      
      // Sayfayı yenile
      renderCities();
    }
    
    // HTML kodunu dışa aktar ve kopyala
    function exportHTML() {
      const exportSelector = document.getElementById('exportCitySelector');
      const selected = exportSelector.value;
      let cities = [];
      
      if (selected === 'all') {
        cities = getCities();
      } else {
        cities = [selected];
      }
      
      // HTML'i oluştur
      let locationsHTML = '';
      
      cities.forEach(city => {
        const displayName = getCityDisplayName(city);
        const locations = getLocationsForCity(city);
        
        // Şehir başlığı
        locationsHTML += '  <h1 class="city-header">📸 ' + displayName + '</h1>\n\n';
        
        // Şehir konumları
        if (locations.length > 0) {
          locations.forEach(location => {
            // Her konum için HTML oluştur
            locationsHTML += '  <div class="city-section">\n';
            locationsHTML += '    <div class="city-header">\n';
            locationsHTML += '      <h2 class="city-title">\n';
            locationsHTML += '        <a href="' + location.link + '" target="_blank" class="location-link">\n';
            locationsHTML += '          <span class="click-icon"></span>\n';
            locationsHTML += '          ' + location.name + ' 📍\n';
            locationsHTML += '        </a>\n';
            locationsHTML += '      </h2>\n';
            locationsHTML += '    </div>\n';
            locationsHTML += '    \n';
            locationsHTML += '    <div class="city-photos">\n';
            
            // Fotoğrafları ekle
            for(var j = 0; j < location.photos.length; j++) {
              locationsHTML += '      <div class="photo-card">\n';
              locationsHTML += '        <img src="' + location.photos[j] + '" alt="' + location.name + '">\n';
              locationsHTML += '      </div>\n';
            }
            
            locationsHTML += '    </div>\n';
            locationsHTML += '  </div>\n\n';
          });
        } else {
          locationsHTML += '  <div class="city-section">\n';
          locationsHTML += '    <p>Bu şehir için henüz konum eklenmemiş.</p>\n';
          locationsHTML += '  </div>\n\n';
        }
        
        // Bilgi mesajı
        locationsHTML += '  <div class="info-banner" dir="auto">' + getLanguageMessage() + '</div>\n\n';
      });
      
      const staticHTML = `<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Şehirler</title>
  <style>
    :root {
      --primary: #2563eb;       /* Modern mavi */
      --primary-dark: #1d4ed8;  /* Koyu mavi */
      --primary-light: #60a5fa; /* Açık mavi */
      --accent: #f97316;        /* Turuncu aksan */
      --dark: #1e293b;          /* Koyu gri */
      --light: #f8fafc;         /* Açık arka plan */
      --white: #ffffff;         /* Beyaz */
      --text: #334155;          /* Metin rengi */
      --text-light: #64748b;    /* Açık metin */
      --shadow: rgba(0, 0, 0, 0.08); /* Gölge rengi */
      --card-bg: #ffffff;       /* Kart arka planı */
      --hover: #dbeafe;         /* Hover efekti */
      --border: #e2e8f0;        /* Sınır rengi */
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      text-align: center;
      padding: 20px;
      overflow-y: auto;
      background-color: var(--light);
      color: var(--text);
      line-height: 1.6;
    }
    
    .info-banner {
      font-size: 16px;
      color: var(--text);
      max-width: 1000px;
      text-align: left;
      line-height: 1.5;
      font-weight: 400;
      background-color: var(--white);
      padding: 16px;
      border-radius: 12px;
      box-shadow: 0 4px 12px var(--shadow);
      z-index: 100;
      margin: 30px auto;
      border: 1px solid var(--border);
    }
    
    .info-banner a {
      color: var(--primary);
      text-decoration: none;
      font-weight: 600;
      transition: color 0.2s;
    }
    
    .info-banner a:hover {
      color: var(--primary-dark);
      text-decoration: underline;
    }
    
    .city-header {
      font-size: 26px;
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      color: var(--white);
      padding: 14px;
      border-radius: 12px;
      max-width: 1000px;
      margin: 40px auto 30px auto;
      box-shadow: 0 4px 12px rgba(37, 99, 235, 0.2);
    }
    
    .city-section {
      margin-bottom: 30px;
      background-color: var(--card-bg);
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 4px 12px var(--shadow);
      max-width: 1000px;
      margin-left: auto;
      margin-right: auto;
      transition: transform 0.3s, box-shadow 0.3s;
      border: 1px solid var(--border);
    }
    
    .city-section:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 16px var(--shadow);
    }
    
    .city-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
      padding-bottom: 12px;
      border-bottom: 1px solid var(--border);
    }
    
    .city-title {
      margin: 0;
      font-size: 20px;
      color: var(--dark);
      font-weight: 600;
    }
    
    .city-photos {
      display: flex;
      gap: 15px;
      overflow-x: auto;
      padding: 8px 0;
      scroll-snap-type: x mandatory;
      scrollbar-width: none;
    }
    
    .city-photos::-webkit-scrollbar {
      display: none;
    }
    
    .photo-card {
      flex: 0 0 auto;
      width: 220px;
      height: 220px;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 8px var(--shadow);
      scroll-snap-align: start;
      background-color: var(--white);
      position: relative;
      transition: transform 0.3s, box-shadow 0.3s;
      border: 1px solid var(--border);
    }
    
    .photo-card:hover {
      transform: scale(1.02);
      box-shadow: 0 8px 20px var(--shadow);
    }
    
    .photo-card img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
    
    .back-link {
      margin-top: 30px;
      margin-bottom: 30px;
      display: inline-block;
      color: var(--primary);
      text-decoration: none;
      font-weight: 500;
      padding: 8px 16px;
      border-radius: 8px;
      transition: background-color 0.3s, color 0.3s;
    }
    
    .back-link:hover {
      background-color: var(--hover);
      text-decoration: none;
    }
    
    .location-link {
      text-decoration: none;
      color: var(--primary);
      display: flex;
      align-items: center;
      transition: color 0.3s;
    }
    
    .location-link:hover {
      color: var(--accent);
    }
    
    .click-icon {
      margin-right: 6px;
      display: inline-block;
      color: var(--accent);
    }
    
    .click-icon::before {
      content: "➤";
      display: inline-block;
    }
    
    /* Duyarlı tasarım için ek stiller */
    @media (max-width: 768px) {
      .photo-card {
        width: 180px;
        height: 180px;
      }
    }
  </style>
</head>
<body>
${locationsHTML}
  <p><a href="https://www.duflat.com" class="back-link">← www.duflat.com</a></p>

  <script>
    // Dil kontrolü ve bilgi mesajını ayarla
    function setLanguageMessage() {
      const messages = {
        'tr': 'Şu anda web sitemizin ücretsiz demo sürümünü görüntülüyorsunuz. Bu sürümde en fazla 3 konuma erişebilirsiniz. Tüm konumlara ulaşmak için <a href="https://www.duflat.com">➤ duflat.com</a> adresini ziyaret edin ve erişim hakkı satın alarak giriş yapın.',
        'en': 'You are currently viewing the free demo version of our website. You can access up to 3 locations in this version. To unlock all locations, please visit <a href="https://www.duflat.com">➤ duflat.com</a> and purchase access.',
        'zh': '您当前正在浏览我们网站的免费演示版本。在此版本中，您最多可以访问 3 个位置。要解锁所有位置，请访问 <a href="https://www.duflat.com">➤ duflat.com</a> 并购买访问权限。',
        'hi': 'आप वर्तमान में हमारी वेबसाइट का मुफ्त डेमो संस्करण देख रहे हैं। इस संस्करण में आप अधिकतम 3 स्थानों तक पहुंच सकते हैं। सभी स्थानों को अनलॉक करने के लिए कृपया <a href="https://www.duflat.com">➤ duflat.com</a> पर जाएं और एक्सेस खरीदें।',
        'es': 'Actualmente estás viendo la versión demo gratuita de nuestro sitio web. En esta versión puedes acceder a un máximo de 3 ubicaciones. Para desbloquear todas las ubicaciones, visita <a href="https://www.duflat.com">➤ duflat.com</a> y compra el acceso.',
        'fr': 'Vous consultez actuellement la version démo gratuite de notre site web. Dans cette version, vous pouvez accéder à un maximum de 3 emplacements. Pour débloquer tous les emplacements, veuillez visiter <a href="https://www.duflat.com">➤ duflat.com</a> et acheter l\\'accès.',
        'ar': 'أنت تشاهد حالياً النسخة التجريبية المجانية من موقعنا الإلكتروني. يمكنك الوصول إلى 3 مواقع كحد أقصى في هذه النسخة. للوصول إلى جميع المواقع، يرجى زيارة <a href="https://www.duflat.com">➤ duflat.com</a> وشراء حق الوصول.',
        'de': 'Sie sehen derzeit die kostenlose Demoversion unserer Website. In dieser Version können Sie auf maximal 3 Standorte zugreifen. Um alle Standorte freizuschalten, besuchen Sie bitte <a href="https://www.duflat.com">➤ duflat.com</a> und kaufen Sie den Zugang.',
        'ru': 'Вы просматриваете бесплатную демонстрационную версию нашего сайта. В этой версии доступно не более 3 локаций. Чтобы открыть доступ ко всем локациям, посетите <a href="https://www.duflat.com">➤ duflat.com</a> и приобретите доступ.',
        'pt': 'Você está visualizando a versão demo gratuita do nosso site. Nesta versão, é possível acessar até 3 locais. Para desbloquear todos os locais, visite <a href="https://www.duflat.com">➤ duflat.com</a> e adquira o acesso.',
        'id': 'Anda sedang melihat versi demo gratis dari situs web kami. Dalam versi ini, Anda dapat mengakses maksimal 3 lokasi. Untuk membuka semua lokasi, silakan kunjungi <a href="https://www.duflat.com">➤ duflat.com</a> dan beli aksesnya.',
        'ja': '現在、当社ウェブサイトの無料デモ版をご覧いただいています。このバージョンでは最大3か所までアクセスできます。すべての場所にアクセスするには、<a href="https://www.duflat.com">➤ duflat.com</a> にアクセスし、アクセス権を購入してください。',
        'ko': '현재 당사 웹사이트의 무료 데모 버전을 보고 계십니다. 이 버전에서는 최대 3개의 위치에 접근할 수 있습니다. 모든 위치를 이용하려면 <a href="https://www.duflat.com">➤ duflat.com</a>을 방문해 접근 권한을 구매하세요.',
        'fa': 'شما در حال مشاهده نسخه دمو رایگان وب‌سایت ما هستید. در این نسخه می‌توانید حداکثر به ۳ مکان دسترسی داشته باشید. برای دسترسی به تمام مکان‌ها، لطفاً به <a href="https://www.duflat.com">➤ duflat.com</a> مراجعه کرده و دسترسی خریداری کنید.',
        'it': 'Stai visualizzando la versione demo gratuita del nostro sito web. In questa versione puoi accedere a un massimo di 3 località. Per sbloccare tutte le località, visita <a href="https://www.duflat.com">➤ duflat.com</a> e acquista l\\'accesso.',
        'pl': 'Obecnie przeglądasz bezpłatną wersję demonstracyjną naszej strony internetowej. W tej wersji możesz uzyskać dostęp maksymalnie do 3 lokalizacji. Aby odblokować wszystkie lokalizacje, odwiedź <a href="https://www.duflat.com">➤ duflat.com</a> i wykup dostęp.'
      };

      // Tarayıcı dilini al
      let browserLang = navigator.language || navigator.userLanguage;
      browserLang = browserLang.split('-')[0]; // Örn: 'en-US' -> 'en'

      // Mesajı belirle
      let messageToShow = messages[browserLang];
      if (!messageToShow) {
        messageToShow = messages['en'];
      }
      
      // Sağdan sola yazılan diller için ayar
      const rtlLangs = ['ar', 'fa'];
      if (rtlLangs.includes(browserLang)) {
        document.querySelectorAll('.info-banner').forEach(banner => {
          banner.setAttribute('dir', 'rtl');
        });
      }
      
      // Tüm mesaj alanlarına uygula
      document.querySelectorAll('.info-banner').forEach(banner => {
        banner.innerHTML = messageToShow;
      });
    }

    // Sayfa yüklendiğinde dil mesajını ayarla
    setLanguageMessage();
  <\/script>
</body>
</html>`;

      // HTML kodunu direkt kopyala
      navigator.clipboard.writeText(staticHTML).then(function() {
        alert('HTML kodu kopyalandı!');
      }).catch(function(err) {
        console.error('Kopyalama hatası:', err);
        
        // Kopyalama başarısız olursa textarea yöntemi dene
        const textArea = document.createElement('textarea');
        textArea.value = staticHTML;
        document.body.appendChild(textArea);
        textArea.select();
        document.execCommand('copy');
        document.body.removeChild(textArea);
        alert('HTML kodu alternatif yöntemle kopyalandı!');
      });
    }
    
    // Seçicileri güncelle
    function updateSelectors() {
      const cities = getCities();
      
      // Şehir seçici
      const citySelector = document.getElementById('citySelector');
      const locationCitySelector = document.getElementById('locationCitySelector');
      const exportCitySelector = document.getElementById('exportCitySelector');
      
      // Seçili değerleri sakla
      const selectedCity = citySelector.value;
      const selectedLocationCity = locationCitySelector.value;
      const selectedExportCity = exportCitySelector.value;
      
      // Şehir seçicileri temizle
      citySelector.innerHTML = '<option value="">Şehir Seçin</option>';
      locationCitySelector.innerHTML = '<option value="">Şehir Seçin</option>';
      exportCitySelector.innerHTML = '<option value="all">Tüm Şehirler</option>';
      
      // Şehirleri ekle
      cities.forEach(city => {
        const displayName = getCityDisplayName(city);
        
        const cityOption = document.createElement('option');
        cityOption.value = city;
        cityOption.textContent = displayName;
        citySelector.appendChild(cityOption);
        
        const locationCityOption = document.createElement('option');
        locationCityOption.value = city;
        locationCityOption.textContent = displayName;
        locationCitySelector.appendChild(locationCityOption);
        
        const exportCityOption = document.createElement('option');
        exportCityOption.value = city;
        exportCityOption.textContent = displayName;
        exportCitySelector.appendChild(exportCityOption);
      });
      
      // Önceden seçili değerleri geri yükle (mümkünse)
      if (selectedCity && cities.includes(selectedCity)) {
        citySelector.value = selectedCity;
      }
      
      if (selectedLocationCity && cities.includes(selectedLocationCity)) {
        locationCitySelector.value = selectedLocationCity;
      }
      
      if (selectedExportCity && (selectedExportCity === 'all' || cities.includes(selectedExportCity))) {
        exportCitySelector.value = selectedExportCity;
      }
    }
    
    // Dil mesajını oluştur
    function getLanguageMessage() {
      const messages = {
        'tr': 'Şu anda web sitemizin ücretsiz demo sürümünü görüntülüyorsunuz. Bu sürümde en fazla 3 konuma erişebilirsiniz. Tüm konumlara ulaşmak için <a href="https://www.duflat.com">➤ duflat.com</a> adresini ziyaret edin ve erişim hakkı satın alarak giriş yapın.',
        'en': 'You are currently viewing the free demo version of our website. You can access up to 3 locations in this version. To unlock all locations, please visit <a href="https://www.duflat.com">➤ duflat.com</a> and purchase access.',
        'zh': '您当前正在浏览我们网站的免费演示版本。在此版本中，您最多可以访问 3 个位置。要解锁所有位置，请访问 <a href="https://www.duflat.com">➤ duflat.com</a> 并购买访问权限。',
        'hi': 'आप वर्तमान में हमारी वेबसाइट का मुफ्त डेमो संस्करण देख रहे हैं। इस संस्करण में आप अधिकतम 3 स्थानों तक पहुंच सकते हैं। सभी स्थानों को अनलॉक करने के लिए कृपया <a href="https://www.duflat.com">➤ duflat.com</a> पर जाएं और एक्सेस खरीदें।',
        'es': 'Actualmente estás viendo la versión demo gratuita de nuestro sitio web. En esta versión puedes acceder a un máximo de 3 ubicaciones. Para desbloquear todas las ubicaciones, visita <a href="https://www.duflat.com">➤ duflat.com</a> y compra el acceso.',
        'fr': 'Vous consultez actuellement la version démo gratuite de notre site web. Dans cette version, vous pouvez accéder à un maximum de 3 emplacements. Pour débloquer tous les emplacements, veuillez visiter <a href="https://www.duflat.com">➤ duflat.com</a> et acheter l\'accès.',
        'ar': 'أنت تشاهد حالياً النسخة التجريبية المجانية من موقعنا الإلكتروني. يمكنك الوصول إلى 3 مواقع كحد أقصى في هذه النسخة. للوصول إلى جميع المواقع، يرجى زيارة <a href="https://www.duflat.com">➤ duflat.com</a> وشراء حق الوصول.',
        'de': 'Sie sehen derzeit die kostenlose Demoversion unserer Website. In dieser Version können Sie auf maximal 3 Standorte zugreifen. Um alle Standorte freizuschalten, besuchen Sie bitte <a href="https://www.duflat.com">➤ duflat.com</a> und kaufen Sie den Zugang.',
        'ru': 'Вы просматриваете бесплатную демонстрационную версию нашего сайта. В этой версии доступно не более 3 локаций. Чтобы открыть доступ ко всем локациям, посетите <a href="https://www.duflat.com">➤ duflat.com</a> и приобретите доступ.',
        'pt': 'Você está visualizando a versão demo gratuita do nosso site. Nesta versão, é possível acessar até 3 locais. Para desbloquear todos os locais, visite <a href="https://www.duflat.com">➤ duflat.com</a> e adquira o acesso.',
        'id': 'Anda sedang melihat versi demo gratis dari situs web kami. Dalam versi ini, Anda dapat mengakses maksimal 3 lokasi. Untuk membuka semua lokasi, silakan kunjungi <a href="https://www.duflat.com">➤ duflat.com</a> dan beli aksesnya.',
        'ja': '現在、当社ウェブサイトの無料デモ版をご覧いただいています。このバージョンでは最大3か所までアクセスできます。すべての場所にアクセスするには、<a href="https://www.duflat.com">➤ duflat.com</a> にアクセスし、アクセス権を購入してください。',
        'ko': '현재 당사 웹사이트의 무료 데모 버전을 보고 계십니다. 이 버전에서는 최대 3개의 위치에 접근할 수 있습니다. 모든 위치를 이용하려면 <a href="https://www.duflat.com">➤ duflat.com</a>을 방문해 접근 권한을 구매하세요.',
        'fa': 'شما در حال مشاهده نسخه دمو رایگان وب‌سایت ما هستید. در این نسخه می‌توانید حداکثر به ۳ مکان دسترسی داشته باشید. برای دسترسی به تمام مکان‌ها، لطفاً به <a href="https://www.duflat.com">➤ duflat.com</a> مراجعه کرده و دسترسی خریداری کنید.',
        'it': 'Stai visualizzando la versione demo gratuita del nostro sito web. In questa versione puoi accedere a un massimo di 3 località. Per sbloccare tutte le località, visita <a href="https://www.duflat.com">➤ duflat.com</a> e acquista l\'accesso.',
        'pl': 'Obecnie przeglądasz bezpłatną wersję demonstracyjną naszej strony internetowej. W tej wersji możesz uzyskać dostęp maksymalnie do 3 lokalizacji. Aby odblokować wszystkie lokalizacje, odwiedź <a href="https://www.duflat.com">➤ duflat.com</a> i wykup dostęp.'
      };

      // Tarayıcı dilini al
      let browserLang = navigator.language || navigator.userLanguage;
      browserLang = browserLang.split('-')[0]; // Örn: 'en-US' -> 'en'

      // Mesajı belirle
      let messageToShow = messages[browserLang];
      if (!messageToShow) {
        messageToShow = messages['en'];
      }
      
      return messageToShow;
    }
    
    // Ana bilgi mesajını ayarla
    function setMainInfoBanner() {
      const mainBanner = document.getElementById('main-info-banner');
      
      // Mesajı ayarla
      mainBanner.innerHTML = getLanguageMessage();
      
      // Sağdan sola yazılan diller için ayar
      const browserLang = (navigator.language || navigator.userLanguage).split('-')[0];
      const rtlLangs = ['ar', 'fa'];
      if (rtlLangs.includes(browserLang)) {
        mainBanner.setAttribute('dir', 'rtl');
      }
    }

    // Sayfa yüklendiğinde çalıştır
    window.onload = function() {
      renderCities();
      setMainInfoBanner();
      
      // Paneli gizle
      document.getElementById('editPanel').style.display = 'none';
    }
  </script>
</body>
</html>
